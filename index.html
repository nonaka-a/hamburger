<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ゴールデン バーガー</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@800&family=Kiwi+Maru:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="fixed-container">
        <!-- 設定ボタンとパネルを追加 -->
        <button id="settings-icon">⚙</button>
        <div id="settings-panel">
            <h3>設定</h3>
            <div class="settings-row">
                <span>ズーム:</span>
                <button id="zoom-out-button">－</button>
                <button id="zoom-in-button">＋</button>
            </div>
            <button id="fullscreen-button">全画面表示</button>
            <button id="sound-toggle-button" class="sound-on">音: オン</button>
            <button id="close-settings-button">とじる</button>
        </div>

        <div id="title-screen">
    <div class="title-container">
        <img class="title-logo" src="images/logo.png" alt="ゴールデンバーガー ロゴ">
        <button id="start-button">ゲームスタート！</button>
    </div>
</div>

        <div id="game-wrapper">
            <div id="status-bar">
                <!-- 既存の音量ボタンを削除 -->
                おかね: <span id="money">0</span>円
            </div>
            
            <div id="main-area">
                <div id="customer-message">（お客さんを待っています...）</div>

                <div id="customer-area">
                    <div id="order-bubble"><h3>ご注文はこちら！</h3><ul id="order-list"></ul></div>
                </div>

                <div id="kitchen-display-area">
                    <img id="customer-image" src="" alt="お客さん">
                    <img id="foreground-counter" src="images/counter.png" alt="カウンター">
                    <div id="creation-display">
                        <div id="burger-stack"></div>
                        <div id="drink-display-container"><div id="drink-display"><span>（のみもの）</span></div></div>
                    </div>
                    <div id="minigame-dock">
                        <div id="grill-minigame" class="minigame-container">
                            <h3>パティを焼こう！</h3>
                            <p>ベストなタイミングでストップ！</p>
                            <!-- ↓ このブロックを追加 -->
    <div id="grill-visuals">
        <img id="grill-pan-image" src="images/frying-pan.png" alt="フライパン">
        <img id="grill-item-image" src="" alt="焼いている食材">
    </div>
    <!-- ↑ ここまで -->
                            <div class="grill-meter-bar">
                                <div class="grill-zone excellent"></div>
                                <div class="grill-zone good"></div>
                                <div class="grill-zone bad"></div>
                                <div id="grill-cursor" class="grill-cursor"></div>
                            </div>
                            <button id="grill-stop-button">ここでストップ！</button>
                        </div>
                        <div id="pour-minigame" class="minigame-container">
                            <h3>色のところでストップ！</h3>
                            <div class="pour-glass">
                                <div id="pour-liquid" class="pour-liquid"></div>
                                <div class="pour-zone excellent"></div>
                                <div class="pour-zone good"></div>
                            </div>
                            <button id="pour-button">ながおし</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="counter-area">
                <div class="counter-body">
                    <div id="action-buttons">
                        <button id="serve-button">できた！</button>
                        <button id="undo-button">ひとつ戻す</button>
                        <button id="trash-button">すてる</button>
                        <button id="show-restock-button">しいれ</button>
                    </div>
                    <div class="selection-panels">
                        <div id="ingredients-panel"></div>
                        <div id="drinks-panel"></div>
                    </div>
                </div>
            </div>

            <div id="restock-modal" class="modal-overlay">
                <div id="restock-area" class="game-panel">
                    <h2>しいれコーナー</h2>
                    <div id="restock-controls">
                        <select id="restock-select"></select>
                        <button id="confirm-restock-button">この具材を補充する</button>
                    </div>
                    <button id="close-restock-button">とじる</button>
                </div>
            </div>

            <div id="completed-burger-modal" class="modal-overlay"></div>
        </div>
        
        <div id="restock-game-modal" class="modal-overlay">
            <!-- 画面1: 食材選択 -->
            <div id="restock-selection-screen" class="restock-game-panel">
                <h2>食材を選んでください (最大3種類)</h2>
                <div id="restock-item-list">
                    <!-- JSで動的に生成 -->
                </div>
                <div id="restock-selection-footer">
                    <button id="restock-cancel-selection-button">やめる</button>
                    <div id="restock-summary">
                        <p>合計費用: <span id="restock-total-cost">0</span>円</p>
                    </div>
                    <button id="restock-confirm-selection-button" disabled>けってい</button>
                </div>
            </div>
        
            <div id="restock-confirm-popup" class="modal-overlay" style="display: none; background-color: rgba(0,0,0,0.7);">
                <div class="game-panel" style="width: 500px; text-align: center;">
                    <p id="restock-confirm-message" style="font-size: 1.3em; margin-bottom: 30px;">合計 〇〇円を支払って<br>仕入れゲームを始めますか？</p>
                    <div style="display: flex; justify-content: center; gap: 20px;">
                        <button id="restock-pay-button" class="action-button-style">支払う</button>
                        <button id="restock-cancel-button" class="action-button-style">やめる</button>
                    </div>
                </div>
            </div>
        
            <!-- 画面2: キャッチゲーム -->
            <div id="restock-minigame-screen" class="restock-game-panel" style="display: none;">
                <div id="minigame-hud">
                    <div id="minigame-timer">30</div>
                    <div id="minigame-realtime-score">
                        <!-- JSで動的に生成 -->
                    </div>
                    <button id="restock-abort-button">ちゅうだん</button>
                </div>
                <canvas id="catch-game-canvas" width="800" height="500"></canvas>
            </div>
        
            <!-- 画面3: 結果表示 -->
            <div id="restock-result-screen" class="restock-game-panel" style="display: none;">
                <h2>ゲットした食材：お店には10こまでしかおけないよ</h2>
                <div id="restock-result-list">
                    <!-- JSで動的に生成 -->
                </div>
                <div style="display: flex; justify-content: center; gap: 20px; margin-top: 20px;">
                    <button id="restock-again-button">もう一度仕入れ</button>
                    <button id="restock-return-to-game-button">お店に戻る</button>
                </div>
            </div>
        </div>

    </div>

    <!-- データファイルを先に読み込む -->
    <script src="data.js"></script>
    <!-- ゲームロジックファイルを次に読み込む -->
    <script src="game.js"></script>
</body>
</html>